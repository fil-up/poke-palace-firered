---
phase: 15-per-species-questions
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pokefirered/src/data/wild_encounters.json
  - .planning/phases/15-per-species-questions/15-SPECIES-MAP.md
autonomous: false

must_haves:
  truths:
    - "Each species appears in only one primary location (base forms)"
    - "Evolved forms may appear in later locations with different questions"
    - "All 151 original Pokemon plus trade evolutions are catchable"
  artifacts:
    - path: "pokefirered/src/data/wild_encounters.json"
      provides: "Unique species per location encounter tables"
      contains: "species-location mappings"
    - path: ".planning/phases/15-per-species-questions/15-SPECIES-MAP.md"
      provides: "Species-to-location assignment document"
      contains: "All 150+ species with their assigned location"
---

<objective>
Redesign wild encounter tables to make each species location-unique.

Purpose: Enable per-species question banks by ensuring each species only appears in specific locations, allowing questions to be tied directly to Pokemon rather than map topic pools.

Output:
- Modified wild_encounters.json with unique species per location
- Species-location mapping document for question assignment (15-02)
- Expanded roster: trade evolutions, LeafGreen exclusives, fossils, starters, Eevee family
</objective>

<execution_context>
@C:\Users\phill\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\phill\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@pokefirered/src/data/wild_encounters.json
@pokefirered/include/constants/species.h
</context>

<tasks>

<task type="human">
  <name>Task 1: Create species-location mapping document</name>
  <files>.planning/phases/15-per-species-questions/15-SPECIES-MAP.md</files>
  <action>
Create a comprehensive mapping document that assigns each catchable species to a unique primary location. Structure:

1. **Section 1 (Pre-Brock)**: ~10-15 species
   - Route 1: Rattata, Pidgey
   - Route 2: Caterpie, Weedle
   - Viridian Forest: Metapod, Kakuna, Pikachu
   - Pewter City: (any new additions)

2. **Section 2 (Pre-Misty)**: ~15-20 species
   - Route 3: Spearow, Jigglypuff, Sandshrew
   - Mt. Moon: Zubat, Geodude, Paras, Clefairy
   - Route 4: (new species)
   - Route 24/25: Oddish, Bellsprout, Abra

3. **Section 3 (Pre-Surge)**: ~15-20 species
   - Route 6: Meowth, Mankey
   - Vermilion City fishing: Tentacool, Shellder
   - Diglett's Cave: Diglett, Dugtrio
   - Route 11: Drowzee, Ekans

4. **Section 4 (Pre-Erika)**: ~20 species
   - Rock Tunnel: Machop, Onix
   - Pokemon Tower: Gastly, Haunter, Cubone
   - Celadon: (various)
   - Route 9/10: (various)

5. **Section 5 (Pre-Koga)**: ~25 species
   - Safari Zone: Chansey, Kangaskhan, Tauros, Pinsir, Scyther, Exeggcute, Rhyhorn, Nidoran(s)
   - Routes 12-15: (fishing species)
   - Fuchsia: (various)

6. **Section 6 (Pre-Sabrina)**: ~10 species
   - Silph Co.: Porygon (was Game Corner exclusive)
   - Saffron City: Alakazam (trade evo), Machamp (trade evo)

7. **Section 7 (Pre-Blaine)**: ~20 species
   - Seafoam Islands: Seel, Dewgong, Slowpoke, Slowbro, Articuno
   - Pokemon Mansion: Koffing, Weezing, Grimer, Muk, Ditto
   - Cinnabar: Omanyte, Kabuto, Aerodactyl (fossils now wild)
   - Route 19/20/21: Staryu, Horsea, Goldeen

8. **Section 8 (Pre-Champion)**: ~15 species
   - Victory Road: Machoke, Graveler, Golbat, Marowak, Golem (trade evo)
   - Routes 22/23: Nidorino, Nidorina, Fearow
   - Cerulean Cave: Mewtwo, Raichu, Electrode, Gengar (trade evo)

9. **Starters & Special**: 
   - Bulbasaur, Charmander, Squirtle: Safari Zone special grass
   - Eevee: Celadon City special encounter
   - Eeveelutions: Various locations (Vaporeon=water areas, Flareon=fire areas, Jolteon=power plant)

Document should include:
- Species name
- Species constant (SPECIES_RATTATA)
- Assigned location (MAP_ROUTE1)
- Difficulty tier (1-5)
- Notes on evolution handling
  </action>
  <verify>Document created with 150+ species assignments covering all 8 sections</verify>
  <done>Species mapping document complete with all catchable Pokemon assigned to unique locations</done>
</task>

<task type="human">
  <name>Task 2: Update wild_encounters.json for Section 1-2</name>
  <files>pokefirered/src/data/wild_encounters.json</files>
  <action>
Modify encounter tables for early game locations:

**Route 1**: Keep only Rattata, Pidgey (remove from other locations)
**Route 2**: Caterpie, Weedle only
**Viridian Forest**: Metapod, Kakuna, Pikachu only
**Route 3**: Spearow, Jigglypuff, Sandshrew
**Mt. Moon all floors**: Zubat, Geodude, Paras, Clefairy
**Route 4**: New species (from expanded roster)
**Route 24/25**: Oddish, Bellsprout, Abra

For each location, adjust encounter rates to maintain reasonable probability.
Remove duplicate species from later locations where they currently appear.
  </action>
  <verify>Build and test: `cd pokefirered && make -j4` and verify encounters in-game</verify>
  <done>Section 1-2 encounters use unique species only</done>
</task>

<task type="human">
  <name>Task 3: Update wild_encounters.json for Sections 3-5</name>
  <files>pokefirered/src/data/wild_encounters.json</files>
  <action>
Continue modifying encounter tables for mid-game:

**Section 3 (Surge area)**:
- Route 6: Meowth, Mankey (unique)
- Vermilion fishing: Tentacool, Shellder
- Diglett's Cave: Diglett, Dugtrio exclusively
- Route 11: Drowzee, Ekans

**Section 4 (Erika area)**:
- Rock Tunnel: Machop, Onix, new species
- Pokemon Tower: Gastly, Haunter, Cubone exclusively
- Route 9/10: Various unique species

**Section 5 (Koga area)**:
- Safari Zone: Full roster (Chansey, Kangaskhan, Tauros, Pinsir, Scyther, etc.)
- Routes 12-15: Fishing species, plus unique land species
- Fuchsia City area: Various
  </action>
  <verify>Build and test encounters in each section</verify>
  <done>Sections 3-5 encounters use unique species only</done>
</task>

<task type="human">
  <name>Task 4: Update wild_encounters.json for Sections 6-8 + Special</name>
  <files>pokefirered/src/data/wild_encounters.json</files>
  <action>
Complete encounter table modifications:

**Section 6 (Sabrina area)**:
- Silph Co.: Add Porygon as wild encounter
- Saffron: Trade evolutions (Alakazam, Machamp, Gengar)

**Section 7 (Blaine area)**:
- Seafoam Islands: Ice types exclusive
- Pokemon Mansion: Poison types exclusive
- Cinnabar: Fossils now wild (Omanyte, Kabuto, Aerodactyl)
- Water routes: Water species

**Section 8 (Champion area)**:
- Victory Road: Strong evolved forms, Golem
- Cerulean Cave: Mewtwo, plus Gengar, Raichu
- Routes 22/23: Mid-evolved species

**Special Additions**:
- Safari Zone special grass: Starters (Bulbasaur, Charmander, Squirtle)
- Celadon: Eevee encounter
- Various: Eeveelutions in thematic locations
- Power Plant: Jolteon, Voltorb, Electrode, Magnemite, Magneton, Electabuzz, Zapdos
- Add LeafGreen exclusives to appropriate locations
  </action>
  <verify>Full game build and spot-check late-game encounters</verify>
  <done>All encounter tables modified with unique species per location</done>
</task>

</tasks>

<verification>
1. Species mapping document exists with 150+ entries
2. wild_encounters.json modified for all sections
3. No species appears in multiple primary locations (evolved forms excepted)
4. Build succeeds: `cd pokefirered && make -j4`
5. Spot-check encounters in-game for Route 1, Mt. Moon, Safari Zone
</verification>

<success_criteria>
- Each base-form species has exactly one encounter location
- Trade evolutions are now catchable in late-game areas
- LeafGreen exclusives added to FireRed
- Fossil Pokemon available as wild encounters
- Starters available in Safari Zone
- Eevee family distributed across game
- Build compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/15-per-species-questions/15-01-SUMMARY.md`
</output>
