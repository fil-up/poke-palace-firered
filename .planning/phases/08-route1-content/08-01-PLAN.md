---
phase: 08-route1-content
plan: 01
type: execute
wave: 1
depends_on: [06-01, 07-01]
files_modified:
  - pokefirered/data/questions/species_map.json
  - pokefirered/src/quiz/questions_gen.c (regenerated)
  - pokefirered/include/quiz/questions_gen.h (regenerated)
autonomous: true
must_haves:
  truths:
    - Rattata needs 5 questions from the GH 101 question bank
    - Pidgey needs 5 questions from the GH 101 question bank
    - Questions should be difficulty 1-3 appropriate for Route 1
  artifacts:
    - Updated species_map.json with question IDs
    - Regenerated questions_gen.c/h with populated banks
  key_links:
    - pokefirered/data/questions/species_map.json (species to question mapping)
    - pokefirered/tools/quiz/build_questions.py (generates C from CSV+mapping)
---

<objective>
Populate question banks for Rattata and Pidgey with 5 questions each from the GH 101 question bank, enabling a fully playable Route 1 experience where players can master and capture both species.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-ui-polish/07-01-SUMMARY.md

## Current State
- Question banks for Rattata and Pidgey are empty (count=0, questions=NULL)
- 155 questions exist in questions_gen.c from the CSV
- species_map.json contains empty question arrays for both species

## Required Changes
1. Edit species_map.json to add 5 question IDs to SPECIES_RATTATA
2. Edit species_map.json to add 5 question IDs to SPECIES_PIDGEY  
3. Run build_questions.py to regenerate the C files
4. Verify compilation

## Question Selection
- Questions use IDs like "CH06_001", "CH06_002", etc. (CH = Chapter)
- Route 1 should have difficulty 1-3 (easier questions)
- Select 10 different questions total, 5 per species
</context>

<tasks>
<task type="auto">
  <name>Update species_map.json with Rattata questions</name>
  <files>pokefirered/data/questions/species_map.json</files>
  <action>
    Add 5 question IDs to the SPECIES_RATTATA questions array.
    Select questions from CH06 (dental chapter) with appropriate difficulty.
  </action>
  <verify>JSON is valid</verify>
  <done>Rattata has 5 questions assigned</done>
</task>

<task type="auto">
  <name>Update species_map.json with Pidgey questions</name>
  <files>pokefirered/data/questions/species_map.json</files>
  <action>
    Add 5 different question IDs to the SPECIES_PIDGEY questions array.
    Select questions from CH06 (dental chapter) with appropriate difficulty.
  </action>
  <verify>JSON is valid</verify>
  <done>Pidgey has 5 questions assigned, no overlap with Rattata</done>
</task>

<task type="auto">
  <name>Regenerate questions_gen files</name>
  <files>pokefirered/src/quiz/questions_gen.c, pokefirered/include/quiz/questions_gen.h</files>
  <action>
    Run the build_questions.py script:
    ```bash
    cd pokefirered
    python3 tools/quiz/build_questions.py "GH 101 Question Bank - Sheet1.csv" \
        --mapping data/questions/species_map.json \
        --out-dir .
    ```
  </action>
  <verify>Script completes without errors, files are regenerated</verify>
  <done>questions_gen.c contains populated banks for Rattata and Pidgey</done>
</task>

<task type="auto">
  <name>Verify compilation</name>
  <files>N/A</files>
  <action>
    Run `make` to verify the ROM compiles with the new question banks.
  </action>
  <verify>`make` completes successfully</verify>
  <done>ROM compiles with Route 1 question content</done>
</task>
</tasks>

<verification>
1. species_map.json has 5 questions for Rattata
2. species_map.json has 5 questions for Pidgey  
3. questions_gen.c shows non-empty banks for both species
4. `make` compiles successfully
</verification>

<success_criteria>
- CONT-01: Rattata bank has 5 GH 101 questions ✓
- CONT-01: Pidgey bank has 5 GH 101 questions ✓
- Player can master both species and capture them ✓
</success_criteria>
