---
phase: 09-viridian-forest
plan: 01
type: execute
wave: 1
depends_on: [08-01]
files_modified:
  - pokefirered/data/questions/species_map.json
  - pokefirered/src/quiz/questions_gen.c (regenerated)
  - pokefirered/include/quiz/questions_gen.h (regenerated)
autonomous: true
must_haves:
  truths:
    - Caterpie needs 5 questions from the question bank
    - Weedle needs 5 questions from the question bank
    - Metapod needs 5 questions from the question bank
    - Kakuna needs 5 questions from the question bank
    - Pikachu needs 5 questions from the question bank
  artifacts:
    - Updated species_map.json with question IDs for forest species
    - Regenerated questions_gen.c/h with populated banks
  key_links:
    - pokefirered/data/questions/species_map.json (species to question mapping)
    - pokefirered/tools/quiz/build_questions.py (generates C from CSV+mapping)
---

<objective>
Populate question banks for Viridian Forest species (Caterpie, Weedle, Metapod, Kakuna, Pikachu) with 5 questions each, enabling a fully playable forest experience where players can master and capture all species.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-route1-content/08-01-SUMMARY.md

## Current State
- Route 1 content complete (Rattata, Pidgey)
- Viridian Forest species have empty question banks
- Questions exist in CSV from MQ.3 chapter (Chapter 3)

## Required Changes
1. Edit species_map.json to add 5 question IDs to each forest species
2. Assign appropriate difficulty ranges per species rarity
3. Run build_questions.py to regenerate the C files
4. Verify compilation

## Question Selection Strategy
- Common species (Caterpie, Weedle): difficulty 1-2
- Evolution species (Metapod, Kakuna): difficulty 2-3
- Rare species (Pikachu): difficulty 3-5
- Use MQ.3.* questions (Chapter 3 content)
</context>

<tasks>
<task type="auto">
  <name>Update species_map.json with Caterpie questions</name>
  <files>pokefirered/data/questions/species_map.json</files>
  <action>
    Add 5 question IDs to SPECIES_CATERPIE questions array.
    Select easier questions (difficulty 1-2) from MQ.3 chapter.
  </action>
  <verify>JSON is valid</verify>
  <done>Caterpie has 5 questions assigned</done>
</task>

<task type="auto">
  <name>Update species_map.json with Weedle questions</name>
  <files>pokefirered/data/questions/species_map.json</files>
  <action>
    Add 5 question IDs to SPECIES_WEEDLE questions array.
    Select easier questions (difficulty 1-2) from MQ.3 chapter.
  </action>
  <verify>JSON is valid</verify>
  <done>Weedle has 5 questions assigned</done>
</task>

<task type="auto">
  <name>Update species_map.json with Metapod questions</name>
  <files>pokefirered/data/questions/species_map.json</files>
  <action>
    Add 5 question IDs to SPECIES_METAPOD questions array.
    Select medium difficulty questions (2-3) from MQ.3 chapter.
  </action>
  <verify>JSON is valid</verify>
  <done>Metapod has 5 questions assigned</done>
</task>

<task type="auto">
  <name>Update species_map.json with Kakuna questions</name>
  <files>pokefirered/data/questions/species_map.json</files>
  <action>
    Add 5 question IDs to SPECIES_KAKUNA questions array.
    Select medium difficulty questions (2-3) from MQ.3 chapter.
  </action>
  <verify>JSON is valid</verify>
  <done>Kakuna has 5 questions assigned</done>
</task>

<task type="auto">
  <name>Update species_map.json with Pikachu questions</name>
  <files>pokefirered/data/questions/species_map.json</files>
  <action>
    Add 5 question IDs to SPECIES_PIKACHU questions array.
    Select harder questions (difficulty 3-5) from MQ.3 chapter for rare species.
  </action>
  <verify>JSON is valid</verify>
  <done>Pikachu has 5 questions assigned</done>
</task>

<task type="auto">
  <name>Regenerate questions_gen files</name>
  <files>pokefirered/src/quiz/questions_gen.c, pokefirered/include/quiz/questions_gen.h</files>
  <action>
    Run the build_questions.py script to regenerate C files with new mappings.
  </action>
  <verify>Script completes without errors, files are regenerated</verify>
  <done>questions_gen.c contains populated banks for all forest species</done>
</task>

<task type="auto">
  <name>Verify compilation</name>
  <files>N/A</files>
  <action>
    Run `make` to verify the ROM compiles with the new question banks.
  </action>
  <verify>`make` completes successfully</verify>
  <done>ROM compiles with Viridian Forest question content</done>
</task>
</tasks>

<verification>
1. species_map.json has 5 questions for each forest species
2. Difficulty ranges are appropriate per species rarity
3. questions_gen.c shows non-empty banks for all 5 species
4. `make` compiles successfully
</verification>

<success_criteria>
- CONT-02: Caterpie, Weedle, Metapod, Kakuna, Pikachu banks populated ✓
- CONT-02: Questions mapped appropriately by difficulty ✓
- Forest species can be mastered and captured ✓
</success_criteria>
